{"remainingRequest":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js!F:\\桌面\\jingdong\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\桌面\\jingdong\\src\\effects\\carteffects.js","dependencies":[{"path":"F:\\桌面\\jingdong\\src\\effects\\carteffects.js","mtime":1621046475996},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\桌面\\jingdong\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8gICAgIC8vIOaOpeWPo+i/lOWbnuaVsOaNrue7k+aehAovLyAgICAgLy8geyAgICAKLy8gICAgIC8vICAgICBzaG9wSWQ6eyAgICAgICAgICAgICAgICAgICAvL+WVhumTumlkCi8vICAgICAvLyAgICAgICBzaG9wbmFtZTogJ+ayg+WwlOeOmycsICAgICAgLy/llYbpk7rlkI3np7AKLy8gICAgIC8vICAgICAgIHByb2R1Y3RMaXN0OnsgICAgICAgICAgIC8v5ZWG5ZOB5YiX6KGoCi8vICAgICAvLyAgICAgICAgIHByb2R1Y3RJZDp7ICAgICAgICAgICAvL+WVhuWTgWlkCi8vICAgICAvLyAgICAgICAgICAgX2lkOiAiMSIsCi8vICAgICAvLyAgICAgICAgICAgaW1nVXJsOiAiaHR0cDovL3d3dy5kZWxsLWxlZS5jb20vaW1ncy92dWUzL3RvbWF0by5wbmciLAovLyAgICAgLy8gICAgICAgICAgIG5hbWU6ICLnlarojIQgMjUwZyAvIOS7vSIsCi8vICAgICAvLyAgICAgICAgICAgb2xkUHJpY2U6IDM5LjYsICAgICAgLy/llYblk4Hljp/ku7cKLy8gICAgIC8vICAgICAgICAgICBwcmljZTogMzMuNiwgICAgICAgICAvL+WVhuWTgeS7t+agvAovLyAgICAgLy8gICAgICAgICAgIHNhbGVzOiAxMCwgICAgICAgICAgIC8v5ZWG5ZOB5pyI5ZSu5pWw6YePCi8vICAgICAvLyAgICAgICAgICAgY291bnQ6IDIsICAgICAgICAgICAgLy/llYblk4HmlbDph48KLy8gICAgIC8vICAgICAgICAgICBjaGVja++8mnRydWUgICAgICAgICAgLy/otK3nianovabnirbmgIEKLy8gICAgIC8vICAgICAgICAgfQovLyAgICAgLy8gICAgICAgfQovLyAgICAgLy8gICAgIH0KLy8gICAgIC8vIH0KLy8gaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICd2dWUnCi8vIGltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCcKLy8gLy8g6LSt54mp6L2m55u45YWz6YC76L6RCi8vIGV4cG9ydCBjb25zdCB1c2VDb21tb25DYXJ0RWZmZWN0ID0gKHNob3BJZCkgPT4gewovLyAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpCi8vICAgICBjb25zdCB7IGNhcnRMaXN0IH0gPSBzdG9yZS5zdGF0ZQovLyAgICAgY29uc3QgY2hhbmdlQ2FydEl0ZW1JbmZvID0gKCBzaG9wSWQsIHByb2R1Y3RJZCwgcHJvZHVjdEluZm8sIG51bSApID0+IHsKLy8gICAgICAgICBzdG9yZS5jb21taXQoJ2NoYW5nZUNhcnRJdGVtSW5mbycsIHsgc2hvcElkLCBwcm9kdWN0SWQsIHByb2R1Y3RJbmZvLCBudW0gfSkKLy8gICAgIH0KLy8gICAgIC8vIOiOt+WPluWVhuWTgeWIl+ihqAovLyAgICAgY29uc3QgcHJvZHVjdExpc3QgPSBjb21wdXRlZCgoKSA9PiB7Ci8vICAgICAgICAgLy8gY29uc3QgcHJvZHVjdExpc3QgPSBjYXJ0TGlzdFtzaG9wSWRdPy5wcm9kdWN0TGlzdCB8fCBbXQovLyAgICAgICAgIGNvbnN0IHByb2R1Y3RMaXN0ID0gc2hvcElkLnByb2R1Y3RMaXN0IHx8IFtdCi8vICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdExpc3QsMykKLy8gICAgICAgICBjb25zb2xlLmxvZyhjYXJ0TGlzdCw5KQovLyAgICAgICAgIGNvbnNvbGUubG9nKHNob3BJZCwxOSkKLy8gICAgICAgICByZXR1cm4gcHJvZHVjdExpc3QKLy8gICAgIH0pCi8vICAgICAvLyDojrflj5bllYbpk7rlkI3np7AKLy8gICAgIGNvbnN0IHNob3BOYW1lID0gY29tcHV0ZWQoKCkgPT4gewovLyAgICAgICAgIGNvbnN0IHNob3BOYW1lID0gY2FydExpc3Rbc2hvcElkXT8uc2hvcE5hbWUgfHwgJycKLy8gICAgICAgICByZXR1cm4gc2hvcE5hbWUKLy8gICAgIH0pCi8vICAgICBjb25zdCBjYWxjdWxhdGlvbnMgPSBjb21wdXRlZCgoKSA9PiB7Ci8vICAgICAgICAgY29uc3QgcHJvZHVjdExpc3QgPSBjYXJ0TGlzdFtzaG9wSWRdPy5wcm9kdWN0TGlzdAovLyAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgCi8vICAgICAgICAgICAgIHRvdGFsOiAwLCAgICAgICAgICAgLy/llYblk4HmlbDph48KLy8gICAgICAgICAgICAgcHJpY2U6IDAsICAgICAgICAgICAvL+WVhuWTgeaAu+mHkeminQovLyAgICAgICAgICAgICBhbGxDaGVja2VkOiB0cnVlICAgIC8v5YWo6YCJ5oyJ6ZKu5YiH5o2iaWNvbuWbvuaghwovLyAgICAgICAgIH0KLy8gICAgICAgICBpZihwcm9kdWN0TGlzdCl7Ci8vICAgICAgICAgICAgIGZvcihsZXQgaSBpbiBwcm9kdWN0TGlzdCl7Ci8vICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0ID0gcHJvZHVjdExpc3RbaV0KLy8gICAgICAgICAgICAgICAgIC8vIOiuoeeul+WKoOWFpei0reeJqei9pueahOWVhuWTgeaVsOmHjwovLyAgICAgICAgICAgICAgICAgcmVzdWx0LnRvdGFsICs9IHByb2R1Y3QuY291bnQKLy8gICAgICAgICAgICAgICAgIGlmKHByb2R1Y3QuY2hlY2spewovLyAgICAgICAgICAgICAgICAgICAgIC8vIOiuoeeul+WKoOWFpei0reeJqei9puWVhuWTgeaAu+mHkeminQovLyAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcmljZSArPSAoIHByb2R1Y3QuY291bnQgKiBwcm9kdWN0LnByaWNlICkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmKHByb2R1Y3QuY291bnQ+MCAmJiAhcHJvZHVjdC5jaGVjayl7Ci8vICAgICAgICAgICAgICAgICAgICAgLy8g5YWo6YCJ5oyJ6ZKu5YiH5o2iaWNvbuWbvuaghwovLyAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hbGxDaGVja2VkID0gZmFsc2UKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfQovLyAgICAgICAgIH0KLy8gICAgICAgICAvLyDliqDlhaXotK3nianovabllYblk4HmgLvph5Hpop3kv53nlZnkuKTkvY3lsI/mlbAKLy8gICAgICAgICByZXN1bHQucHJpY2UgPSByZXN1bHQucHJpY2UudG9GaXhlZCgyKQovLyAgICAgICAgIHJldHVybiByZXN1bHQKLy8gICAgIH0pCi8vICAgICByZXR1cm4geyBjYXJ0TGlzdCwgcHJvZHVjdExpc3QsIGNhbGN1bGF0aW9ucywgc2hvcE5hbWUsIGNoYW5nZUNhcnRJdGVtSW5mbyB9Ci8vIH0KaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOyAvLyDotK3nianovabnm7jlhbPpgLvovpEKCmV4cG9ydCB2YXIgdXNlQ29tbW9uQ2FydEVmZmVjdCA9IGZ1bmN0aW9uIHVzZUNvbW1vbkNhcnRFZmZlY3Qoc2hvcElkKSB7CiAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICB2YXIgY2FydExpc3QgPSBzdG9yZS5zdGF0ZS5jYXJ0TGlzdDsKCiAgdmFyIGNoYW5nZUNhcnRJdGVtSW5mbyA9IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtSW5mbyhzaG9wSWQsIHByb2R1Y3RJZCwgcHJvZHVjdEluZm8sIG51bSkgewogICAgc3RvcmUuY29tbWl0KCdjaGFuZ2VDYXJ0SXRlbUluZm8nLCB7CiAgICAgIHNob3BJZDogc2hvcElkLAogICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZCwKICAgICAgcHJvZHVjdEluZm86IHByb2R1Y3RJbmZvLAogICAgICBudW06IG51bQogICAgfSk7CiAgfTsKCiAgdmFyIHByb2R1Y3RMaXN0ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgdmFyIF9jYXJ0TGlzdCRzaG9wSWQ7CgogICAgdmFyIHByb2R1Y3RMaXN0ID0gKChfY2FydExpc3Qkc2hvcElkID0gY2FydExpc3Rbc2hvcElkXSkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NhcnRMaXN0JHNob3BJZC5wcm9kdWN0TGlzdCkgfHwgW107CiAgICBjb25zb2xlLmxvZyhwcm9kdWN0TGlzdCk7CiAgICByZXR1cm4gcHJvZHVjdExpc3Q7CiAgfSk7CiAgdmFyIHNob3BOYW1lID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgdmFyIF9jYXJ0TGlzdCRzaG9wSWQyOwoKICAgIHZhciBzaG9wTmFtZSA9ICgoX2NhcnRMaXN0JHNob3BJZDIgPSBjYXJ0TGlzdFtzaG9wSWRdKSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NhcnRMaXN0JHNob3BJZDIuc2hvcE5hbWUpIHx8ICcnOwogICAgcmV0dXJuIHNob3BOYW1lOwogIH0pOwogIHZhciBjYWxjdWxhdGlvbnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NhcnRMaXN0JHNob3BJZDM7CgogICAgdmFyIHByb2R1Y3RMaXN0ID0gKF9jYXJ0TGlzdCRzaG9wSWQzID0gY2FydExpc3Rbc2hvcElkXSkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jYXJ0TGlzdCRzaG9wSWQzLnByb2R1Y3RMaXN0OwogICAgdmFyIHJlc3VsdCA9IHsKICAgICAgdG90YWw6IDAsCiAgICAgIHByaWNlOiAwLAogICAgICBhbGxDaGVja2VkOiB0cnVlCiAgICB9OwoKICAgIGlmIChwcm9kdWN0TGlzdCkgewogICAgICBmb3IgKHZhciBpIGluIHByb2R1Y3RMaXN0KSB7CiAgICAgICAgdmFyIHByb2R1Y3QgPSBwcm9kdWN0TGlzdFtpXTsKICAgICAgICByZXN1bHQudG90YWwgKz0gcHJvZHVjdC5jb3VudDsKCiAgICAgICAgaWYgKHByb2R1Y3QuY2hlY2spIHsKICAgICAgICAgIHJlc3VsdC5wcmljZSArPSBwcm9kdWN0LmNvdW50ICogcHJvZHVjdC5wcmljZTsKICAgICAgICB9CgogICAgICAgIGlmIChwcm9kdWN0LmNvdW50ID4gMCAmJiAhcHJvZHVjdC5jaGVjaykgewogICAgICAgICAgcmVzdWx0LmFsbENoZWNrZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXN1bHQucHJpY2UgPSByZXN1bHQucHJpY2UudG9GaXhlZCgyKTsKICAgIHJldHVybiByZXN1bHQ7CiAgfSk7CiAgcmV0dXJuIHsKICAgIGNhcnRMaXN0OiBjYXJ0TGlzdCwKICAgIHNob3BOYW1lOiBzaG9wTmFtZSwKICAgIHByb2R1Y3RMaXN0OiBwcm9kdWN0TGlzdCwKICAgIGNhbGN1bGF0aW9uczogY2FsY3VsYXRpb25zLAogICAgY2hhbmdlQ2FydEl0ZW1JbmZvOiBjaGFuZ2VDYXJ0SXRlbUluZm8KICB9Owp9Ow=="},{"version":3,"sources":["F:/桌面/jingdong/src/effects/carteffects.js"],"names":["computed","useStore","useCommonCartEffect","shopId","store","cartList","state","changeCartItemInfo","productId","productInfo","num","commit","productList","console","log","shopName","calculations","result","total","price","allChecked","i","product","count","check","toFixed"],"mappings":"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","sourcesContent":["//     // 接口返回数据结构\r\n//     // {    \r\n//     //     shopId:{                   //商铺id\r\n//     //       shopname: '沃尔玛',      //商铺名称\r\n//     //       productList:{           //商品列表\r\n//     //         productId:{           //商品id\r\n//     //           _id: \"1\",\r\n//     //           imgUrl: \"http://www.dell-lee.com/imgs/vue3/tomato.png\",\r\n//     //           name: \"番茄 250g / 份\",\r\n//     //           oldPrice: 39.6,      //商品原价\r\n//     //           price: 33.6,         //商品价格\r\n//     //           sales: 10,           //商品月售数量\r\n//     //           count: 2,            //商品数量\r\n//     //           check：true          //购物车状态\r\n//     //         }\r\n//     //       }\r\n//     //     }\r\n//     // }\r\n// import { computed } from 'vue'\r\n// import { useStore } from 'vuex'\r\n// // 购物车相关逻辑\r\n// export const useCommonCartEffect = (shopId) => {\r\n//     const store = useStore()\r\n//     const { cartList } = store.state\r\n//     const changeCartItemInfo = ( shopId, productId, productInfo, num ) => {\r\n//         store.commit('changeCartItemInfo', { shopId, productId, productInfo, num })\r\n//     }\r\n//     // 获取商品列表\r\n//     const productList = computed(() => {\r\n//         // const productList = cartList[shopId]?.productList || []\r\n//         const productList = shopId.productList || []\r\n//         console.log(productList,3)\r\n//         console.log(cartList,9)\r\n//         console.log(shopId,19)\r\n//         return productList\r\n//     })\r\n//     // 获取商铺名称\r\n//     const shopName = computed(() => {\r\n//         const shopName = cartList[shopId]?.shopName || ''\r\n//         return shopName\r\n//     })\r\n//     const calculations = computed(() => {\r\n//         const productList = cartList[shopId]?.productList\r\n//         const result = { \r\n//             total: 0,           //商品数量\r\n//             price: 0,           //商品总金额\r\n//             allChecked: true    //全选按钮切换icon图标\r\n//         }\r\n//         if(productList){\r\n//             for(let i in productList){\r\n//                 const product = productList[i]\r\n//                 // 计算加入购物车的商品数量\r\n//                 result.total += product.count\r\n//                 if(product.check){\r\n//                     // 计算加入购物车商品总金额\r\n//                     result.price += ( product.count * product.price )\r\n//                 }\r\n//                 if(product.count>0 && !product.check){\r\n//                     // 全选按钮切换icon图标\r\n//                     result.allChecked = false\r\n//                 }\r\n//             }\r\n//         }\r\n//         // 加入购物车商品总金额保留两位小数\r\n//         result.price = result.price.toFixed(2)\r\n//         return result\r\n//     })\r\n//     return { cartList, productList, calculations, shopName, changeCartItemInfo }\r\n// }\r\n\r\n\r\n\r\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\n// 购物车相关逻辑\r\nexport const useCommonCartEffect = (shopId) => {\r\n  const store = useStore()\r\n  const cartList = store.state.cartList;\r\n  const changeCartItemInfo = (shopId, productId, productInfo, num) => {\r\n    store.commit('changeCartItemInfo', {\r\n      shopId, productId, productInfo, num\r\n    })\r\n  }\r\n  const productList = computed(() => {\r\n    const productList = cartList[shopId]?.productList || []\r\n    console.log(productList)\r\n    return productList\r\n  })\r\n\r\n  const shopName = computed(() => {\r\n    const shopName = cartList[shopId]?.shopName || ''\r\n    return shopName\r\n  })\r\n\r\n  const calculations = computed(() => {\r\n    const productList = cartList[shopId]?.productList\r\n    const result = { total: 0, price: 0, allChecked: true}\r\n    if(productList) {\r\n       for(let i in productList) {\r\n         const product = productList[i]\r\n         result.total += product.count\r\n         if(product.check) {\r\n           result.price += (product.count * product.price)\r\n         }\r\n         if(product.count > 0 && !product.check) {\r\n           result.allChecked = false\r\n         }\r\n      }\r\n    }\r\n    result.price = result.price.toFixed(2)\r\n    return result\r\n  })\r\n\r\n  return { cartList, shopName, productList, calculations, changeCartItemInfo }\r\n}"]}]}