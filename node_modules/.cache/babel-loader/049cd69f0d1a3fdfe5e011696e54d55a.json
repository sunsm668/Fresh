{"remainingRequest":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js!F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\桌面\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\桌面\\jingdong\\src\\views\\Login\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\桌面\\jingdong\\src\\views\\Login\\Login.vue","mtime":1619059235172},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1x1Njg0Q1x1OTc2Mi9qaW5nZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBwb3N0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCBUb2FzdCwgeyB1c2VUb2FzdEVmZmVjdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVG9hc3QudnVlJzsKCnZhciB1c2VMb2dpbkVmZmVjdCA9IGZ1bmN0aW9uIHVzZUxvZ2luRWZmZWN0KHNob3dUb2FzdCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgIHVzZXJuYW1lOiAnJywKICAgIHBhc3N3b3JkOiAnJwogIH0pOwoKICB2YXIgaGFuZGxlTG9naW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcG9zdCgnL2FwaS91c2VyL2xvZ2luJywgewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IGRhdGEudXNlcm5hbWUsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogZGF0YS5wYXNzd29yZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5lcnJubyA9PT0gMCkgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfnmbvpmYbmiJDlip8nKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5pc0xvZ2luID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ0hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfnmbvpmYblpLHotKUnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHNob3dUb2FzdCgn6K+35rGC5aSx6LSlJyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUxvZ2luKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGRhdGEpLAogICAgICB1c2VybmFtZSA9IF90b1JlZnMudXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkID0gX3RvUmVmcy5wYXNzd29yZDsKCiAgcmV0dXJuIHsKICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgIGhhbmRsZUxvZ2luOiBoYW5kbGVMb2dpbgogIH07Cn07Cgp2YXIgdXNlUmVnaXN0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VSZWdpc3RlckVmZmVjdCgpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogIHZhciBoYW5kbGVSZWdpc3RlckNsaWNrID0gZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXJDbGljaygpIHsKICAgIHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ1JlZ2lzdGVyJwogICAgfSk7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGhhbmRsZVJlZ2lzdGVyQ2xpY2s6IGhhbmRsZVJlZ2lzdGVyQ2xpY2sKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgVG9hc3Q6IFRvYXN0CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZVRvYXN0RWZmZWN0ID0gdXNlVG9hc3RFZmZlY3QoKSwKICAgICAgICBzaG93ID0gX3VzZVRvYXN0RWZmZWN0LnNob3csCiAgICAgICAgdG9hc3RNZXNzYWdlID0gX3VzZVRvYXN0RWZmZWN0LnRvYXN0TWVzc2FnZSwKICAgICAgICBzaG93VG9hc3QgPSBfdXNlVG9hc3RFZmZlY3Quc2hvd1RvYXN0OwoKICAgIHZhciBfdXNlTG9naW5FZmZlY3QgPSB1c2VMb2dpbkVmZmVjdChzaG93VG9hc3QpLAogICAgICAgIHVzZXJuYW1lID0gX3VzZUxvZ2luRWZmZWN0LnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkID0gX3VzZUxvZ2luRWZmZWN0LnBhc3N3b3JkLAogICAgICAgIGhhbmRsZUxvZ2luID0gX3VzZUxvZ2luRWZmZWN0LmhhbmRsZUxvZ2luOwoKICAgIHZhciBfdXNlUmVnaXN0ZXJFZmZlY3QgPSB1c2VSZWdpc3RlckVmZmVjdCgpLAogICAgICAgIGhhbmRsZVJlZ2lzdGVyQ2xpY2sgPSBfdXNlUmVnaXN0ZXJFZmZlY3QuaGFuZGxlUmVnaXN0ZXJDbGljazsKCiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgaGFuZGxlTG9naW46IGhhbmRsZUxvZ2luLAogICAgICBzaG93OiBzaG93LAogICAgICB0b2FzdE1lc3NhZ2U6IHRvYXN0TWVzc2FnZSwKICAgICAgaGFuZGxlUmVnaXN0ZXJDbGljazogaGFuZGxlUmVnaXN0ZXJDbGljawogICAgfTsKICB9Cn07"},{"version":3,"sources":["F:\\桌面\\jingdong\\src\\views\\Login\\Login.vue"],"names":[],"mappings":";;AAiBA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,IAAT,QAAqB,qBAArB;AACA,OAAO,KAAP,IAAiB,cAAjB,QAAsC,4BAAtC;;AAEA,IAAM,cAAa,GAAI,SAAjB,cAAiB,CAAG,SAAH,EAAkB;AACrC,MAAM,MAAK,GAAI,SAAS,EAAxB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AAClB,IAAA,QAAQ,EAAC,EADS;AAElB,IAAA,QAAQ,EAAC;AAFS,GAAD,CAArB;;AAIA,MAAM,WAAU;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEK,IAAI,CAAC,iBAAD,EAAmB;AACxC,gBAAA,QAAQ,EAAE,IAAI,CAAC,QADyB;AAExC,gBAAA,QAAQ,EAAE,IAAI,CAAC;AAFyB,eAAnB,CAFT;;AAAA;AAEV,cAAA,MAFU;;AAMhB,kBAAG,MAAM,CAAC,IAAP,CAAY,KAAZ,KAAqB,CAAxB,EAA0B;AACtB,gBAAA,SAAS,CAAC,MAAD,CAAT;AACA,gBAAA,YAAY,CAAC,OAAb,GAAuB,IAAvB;AACA,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAG,EAAI;AAAT,iBAAZ;AACH,eAJD,MAIK;AACD,gBAAA,SAAS,CAAC,MAAD,CAAT;AACJ;;AAZgB;AAAA;;AAAA;AAAA;AAAA;AAcZ,cAAA,SAAS,CAAC,MAAD,CAAT;;AAdY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AANqC,gBAuBL,MAAM,CAAC,IAAD,CAvBD;AAAA,MAuB7B,QAvB6B,WAuB7B,QAvB6B;AAAA,MAuBlB,QAvBkB,WAuBlB,QAvBkB;;AAwBrC,SAAO;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAa,IAAA,QAAQ,EAAR,QAAb;AAAuB,IAAA,WAAU,EAAV;AAAvB,GAAP;AACJ,CAzBA;;AA0BA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,GAAM;AAC5B,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,mBAAkB,GAAI,SAAtB,mBAAsB,GAAM;AAC9B,IAAA,MAAM,CAAC,IAAP,CAAY;AAAE,MAAA,IAAG,EAAI;AAAT,KAAZ;AACJ,GAFA;;AAGA,SAAO;AAAG,IAAA,mBAAkB,EAAlB;AAAH,GAAP;AACJ,CANA;;AAUA,eAAe;AACX,EAAA,IAAG,EAAG,OADK;AAEX,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GAFD;AAGX,EAAA,KAHW,mBAGH;AAAA,0BACwC,cAAc,EADtD;AAAA,QACK,IADL,mBACK,IADL;AAAA,QACW,YADX,mBACW,YADX;AAAA,QACyB,SADzB,mBACyB,SADzB;;AAAA,0BAEyC,cAAc,CAAC,SAAD,CAFvD;AAAA,QAEI,QAFJ,mBAEI,QAFJ;AAAA,QAEe,QAFf,mBAEe,QAFf;AAAA,QAEyB,WAFzB,mBAEyB,WAFzB;;AAAA,6BAG6B,iBAAiB,EAH9C;AAAA,QAGK,mBAHL,sBAGK,mBAHL;;AAIJ,WAAO;AACH,MAAA,QAAQ,EAAR,QADG;AACQ,MAAA,QAAQ,EAAR,QADR;AACkB,MAAA,WAAW,EAAX,WADlB;AAEH,MAAA,IAAI,EAAJ,IAFG;AAEG,MAAA,YAAY,EAAZ,YAFH;AAGH,MAAA,mBAAkB,EAAlB;AAHG,KAAP;AAKH;AAZU,CAAf","sourcesContent":["<template>\r\n<!-- 登陆页 -->\r\n    <div class=\"wrapper\">\r\n        <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\" class=\"wrapper__img\">\r\n        <div class=\"wrapper__input\">\r\n            <input type=\"text\" class=\"wrapper__input__content\" placeholder=\"请输入用户名\" v-model=\"username\">\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input type=\"password\" class=\"wrapper__input__content\" placeholder=\"请输入密码\" v-model=\"password\">\r\n        </div>\r\n        <div class=\"wrapper__login-button\" @click=\"handleLogin\">登陆</div>\r\n        <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">立即注册</div>\r\n        <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { post } from '../../utils/request';\r\nimport Toast , { useToastEffect }from '../../components/Toast.vue';\r\n\r\nconst useLoginEffect = (  showToast ) => {\r\n    const router = useRouter();\r\n    const data = reactive({\r\n        username:'',\r\n        password:'',\r\n    })\r\n    const handleLogin = async () => {\r\n    try{\r\n        const result = await post('/api/user/login',{\r\n            username: data.username,\r\n            password: data.password\r\n        })\r\n        if(result.data.errno=== 0){\r\n            showToast('登陆成功');\r\n            localStorage.isLogin = true;\r\n            router.push({ name : 'Home'})\r\n        }else{\r\n            showToast('登陆失败');\r\n        }\r\n    } catch (e){\r\n            showToast('请求失败');\r\n        }\r\n    } \r\n    const { username,  password } = toRefs(data);\r\n    return { username,  password, handleLogin }\r\n}\r\nconst useRegisterEffect = () => {\r\n    const router = useRouter();\r\n    const handleRegisterClick = () => {\r\n        router.push({ name : 'Register'})\r\n    }\r\n    return {  handleRegisterClick }\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    name :'Login',\r\n    components: { Toast },\r\n    setup() {\r\n        const {  show, toastMessage, showToast  } = useToastEffect();\r\n        const { username,  password, handleLogin } = useLoginEffect(showToast);  \r\n        const {  handleRegisterClick } = useRegisterEffect();  \r\n        return { \r\n            username,  password, handleLogin,\r\n            show, toastMessage,\r\n            handleRegisterClick\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    &__img{\r\n        display: block;\r\n        width: .66rem;\r\n        height: .66rem;\r\n        margin: 0 auto .4rem auto;\r\n    }\r\n    &__input{\r\n        height: .48rem;\r\n        padding: 0 .16rem;\r\n        margin: 0 .4rem .16rem .4rem;\r\n        background: #F9F9F9;\r\n        border: 1px solid rgba(0,0,0,0.10);\r\n        border-radius: .06rem;\r\n        &__content{\r\n            width: 100%;\r\n            line-height: .48rem;\r\n            font-size: .16rem;\r\n            color: rgba(0,0,0,0.50);\r\n            outline: none;\r\n            background: none;\r\n            border: none;\r\n        }\r\n    }\r\n    &__login-button{\r\n        height: .48rem;\r\n        background: #0091FF;\r\n        margin: .32rem .4rem .16rem .4rem;\r\n        box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n        border-radius: .04rem;\r\n        font-size: .16rem;\r\n        line-height: .48rem;\r\n        color: #FFFFFF;\r\n        text-align: center;\r\n    }\r\n    &__login-link{\r\n        font-size: .14rem;\r\n        color: rgba(0,0,0,0.50);\r\n        text-align: center;\r\n    }\r\n}\r\n</style>"],"sourceRoot":""}]}