{"remainingRequest":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js!F:\\桌面\\jingdong\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\桌面\\jingdong\\src\\store\\index.js","dependencies":[{"path":"F:\\桌面\\jingdong\\src\\store\\index.js","mtime":1620476592817},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\桌面\\jingdong\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8g5o6l5Y+j6L+U5Zue5pWw5o2u57uT5p6ECi8vIHsgICAgCi8vICAgICBzaG9wSWQ6eyAgIAovLyAgICAgICBzaG9wbmFtZTogJ+ayg+WwlOeOmycsICAgICAgLy/llYbpk7ppZAovLyAgICAgICBwcm9kdWN0TGlzdDp7Ci8vICAgICAgICAgcHJvZHVjdElkOnsgICAgLy/llYblk4FpZAovLyAgICAgICAgICAgX2lkOiAiMSIsCi8vICAgICAgICAgICBpbWdVcmw6ICJodHRwOi8vd3d3LmRlbGwtbGVlLmNvbS9pbWdzL3Z1ZTMvdG9tYXRvLnBuZyIsCi8vICAgICAgICAgICBuYW1lOiAi55Wq6IyEIDI1MGcgLyDku70iLAovLyAgICAgICAgICAgb2xkUHJpY2U6IDM5LjYsCi8vICAgICAgICAgICBwcmljZTogMzMuNiwKLy8gICAgICAgICAgIHNhbGVzOiAxMCwKLy8gICAgICAgICAgIGNvdW50OiAyLAovLyAgICAgICAgIH0KLy8gICAgICAgfQovLyAgICAgfQovLyB9CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwoKdmFyIHNldExvY2FsQ2FydExpc3QgPSBmdW5jdGlvbiBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKSB7CiAgdmFyIGNhcnRMaXN0ID0gc3RhdGUuY2FydExpc3Q7CiAgdmFyIGNhcnRMaXN0U3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoY2FydExpc3QpOwogIGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCA9IGNhcnRMaXN0U3RyaW5nOwp9OwoKdmFyIGdldExvY2FsQ2FydExpc3QgPSBmdW5jdGlvbiBnZXRMb2NhbENhcnRMaXN0KCkgewogIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCkgfHwge307Cn07CgpleHBvcnQgZGVmYXVsdCBWdWV4LmNyZWF0ZVN0b3JlKHsKICBzdGF0ZTogewogICAgY2FydExpc3Q6IGdldExvY2FsQ2FydExpc3QoKQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjaGFuZ2VDYXJ0SXRlbUluZm86IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtSW5mbyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZCwKICAgICAgICAgIHByb2R1Y3RJbmZvID0gcGF5bG9hZC5wcm9kdWN0SW5mbzsKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXTsKCiAgICAgIGlmICghc2hvcEluZm8pIHsKICAgICAgICBzaG9wSW5mbyA9IHsKICAgICAgICAgIHNob3BuYW1lOiAnJywKICAgICAgICAgIHByb2R1Y3RMaXN0OiB7fQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBwcm9kdWN0ID0gc2hvcEluZm8ucHJvZHVjdExpc3RbcHJvZHVjdElkXTsKCiAgICAgIGlmICghcHJvZHVjdCkgewogICAgICAgIHByb2R1Y3QgPSBwcm9kdWN0SW5mbzsKICAgICAgICBwcm9kdWN0LmNvdW50ID0gMDsKICAgICAgfQoKICAgICAgcHJvZHVjdC5jb3VudCArPSBwYXlsb2FkLm51bTsKCiAgICAgIGlmIChwYXlsb2FkLm51bSA+IDApIHsKICAgICAgICBwcm9kdWN0LmNoZWNrID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHByb2R1Y3QuY291bnQgPCAwKSB7CiAgICAgICAgcHJvZHVjdC5jb3VudCA9IDA7CiAgICAgIH0KCiAgICAgIHNob3BJbmZvLnByb2R1Y3RMaXN0W3Byb2R1Y3RJZF0gPSBwcm9kdWN0OwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdID0gc2hvcEluZm87CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIHVwZGF0ZVNob3BOYW1lOiBmdW5jdGlvbiB1cGRhdGVTaG9wTmFtZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBzaG9wbmFtZSA9IHBheWxvYWQuc2hvcG5hbWU7CiAgICAgIHZhciBzaG9wSW5mbyA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gfHwgewogICAgICAgIHNob3BuYW1lOiAnJywKICAgICAgICBwcm9kdWN0TGlzdDoge30KICAgICAgfTsKICAgICAgc2hvcEluZm8uc2hvcG5hbWUgPSBzaG9wbmFtZTsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXSA9IHNob3BJbmZvOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICBjaGFuZ2VDYXJ0SXRlbUNoZWNrZWQ6IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtQ2hlY2tlZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZDsKICAgICAgdmFyIHByb2R1Y3QgPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0W3Byb2R1Y3RJZF07CiAgICAgIHByb2R1Y3QuY2hlY2sgPSAhcHJvZHVjdC5jaGVjazsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2xlYW5DYXJ0UHJvZHVjdHM6IGZ1bmN0aW9uIGNsZWFuQ2FydFByb2R1Y3RzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdCA9IHt9OwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICBzZXRDYXJ0SXRlbXNDaGVja2VkOiBmdW5jdGlvbiBzZXRDYXJ0SXRlbXNDaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKICAgICAgdmFyIHByb2R1Y3RzID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdDsKCiAgICAgIGlmIChwcm9kdWN0cykgewogICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9kdWN0cykgewogICAgICAgICAgdmFyIHByb2R1Y3QgPSBwcm9kdWN0c1trZXldOwogICAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["F:/桌面/jingdong/src/store/index.js"],"names":["Vuex","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocalCartList","parse","createStore","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","shopname","productList","product","count","num","check","updateShopName","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","products","key"],"mappings":"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","sourcesContent":["    // 接口返回数据结构\n    // {    \n    //     shopId:{   \n    //       shopname: '沃尔玛',      //商铺id\n    //       productList:{\n    //         productId:{    //商品id\n    //           _id: \"1\",\n    //           imgUrl: \"http://www.dell-lee.com/imgs/vue3/tomato.png\",\n    //           name: \"番茄 250g / 份\",\n    //           oldPrice: 39.6,\n    //           price: 33.6,\n    //           sales: 10,\n    //           count: 2,\n    //         }\n    //       }\n    //     }\n    // }\nimport Vuex from 'vuex'\nconst setLocalCartList = ( state ) => {\n  const { cartList } = state;\n  const cartListString = JSON.stringify(cartList);\n  localStorage.cartList = cartListString\n}\nconst getLocalCartList = () => {\n  return JSON.parse(localStorage.cartList) || {}\n}\nexport default Vuex.createStore({\n  state: {\n    cartList: getLocalCartList()\n  },\n  mutations: {\n    changeCartItemInfo(state, payload){\n        const { shopId, productId, productInfo } = payload\n        let shopInfo = state.cartList[shopId]\n        if(!shopInfo) {  shopInfo = {\n          shopname:'', productList:{}\n        } }\n        let product = shopInfo.productList[productId]\n        if(!product) {\n          product = productInfo\n          product.count = 0\n          }\n        product.count += payload.num\n        if(payload.num > 0) { product.check = true }\n        if(product.count < 0) { product.count = 0 }\n        shopInfo.productList[productId] = product\n        state.cartList[shopId] = shopInfo\n        setLocalCartList(state)\n    },\n    updateShopName(state, payload){\n        const { shopId, shopname } = payload\n        const shopInfo = state.cartList[shopId] || {\n          shopname:'', productList:{}\n        }\n        shopInfo.shopname = shopname\n        state.cartList[shopId] = shopInfo\n        setLocalCartList(state)\n    },\n    changeCartItemChecked(state, payload){\n        const { shopId, productId } = payload\n        const product = state.cartList[shopId].productList[productId]\n        product.check = !product.check\n        setLocalCartList(state)\n    },\n    cleanCartProducts(state, payload){\n        const { shopId } = payload\n        state.cartList[shopId].productList = {}\n        setLocalCartList(state)\n    },\n    setCartItemsChecked(state, payload){\n        const { shopId } = payload\n        const products = state.cartList[shopId].productList\n        if(products){\n          for(let key in products){\n            const product = products[key]\n            product.check = true\n          }\n        } \n        setLocalCartList(state) \n    }\n  }\n})\n"]}]}