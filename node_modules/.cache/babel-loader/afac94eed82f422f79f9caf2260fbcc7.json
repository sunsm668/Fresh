{"remainingRequest":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js!F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\桌面\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\桌面\\jingdong\\src\\views\\Login\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\桌面\\jingdong\\src\\views\\Login\\Login.vue","mtime":1622032649566},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1x1Njg0Q1x1OTc2Mi9qaW5nZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBwb3N0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCBUb2FzdCwgeyB1c2VUb2FzdEVmZmVjdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVG9hc3QudnVlJzsKCnZhciB1c2VMb2dpbkVmZmVjdCA9IGZ1bmN0aW9uIHVzZUxvZ2luRWZmZWN0KHNob3dUb2FzdCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgIHVzZXJuYW1lOiAnJywKICAgIHBhc3N3b3JkOiAnJwogIH0pOwogIGNvbnNvbGUubG9nKGRhdGEudXNlcm5hbWUpOwogIGNvbnNvbGUubG9nKDE1OSk7CgogIHZhciBoYW5kbGVMb2dpbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBwb3N0KCcvYXBpL3VzZXIvbG9naW4nLCB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmVycm5vID09PSAwKSB7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+eZu+mZhuaIkOWKnycpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmlzTG9naW4gPSB0cnVlOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+eZu+mZhuWksei0pScpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgc2hvd1RvYXN0KCfor7fmsYLlpLHotKUnKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlTG9naW4oKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIHVzZXJuYW1lID0gX3RvUmVmcy51c2VybmFtZSwKICAgICAgcGFzc3dvcmQgPSBfdG9SZWZzLnBhc3N3b3JkOwoKICByZXR1cm4gewogICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgaGFuZGxlTG9naW46IGhhbmRsZUxvZ2luCiAgfTsKfTsKCnZhciB1c2VSZWdpc3RlckVmZmVjdCA9IGZ1bmN0aW9uIHVzZVJlZ2lzdGVyRWZmZWN0KCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgdmFyIGhhbmRsZVJlZ2lzdGVyQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVSZWdpc3RlckNsaWNrKCkgewogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnUmVnaXN0ZXInCiAgICB9KTsKICB9OwoKICByZXR1cm4gewogICAgaGFuZGxlUmVnaXN0ZXJDbGljazogaGFuZGxlUmVnaXN0ZXJDbGljawogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnRzOiB7CiAgICBUb2FzdDogVG9hc3QKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlVG9hc3RFZmZlY3QgPSB1c2VUb2FzdEVmZmVjdCgpLAogICAgICAgIHNob3cgPSBfdXNlVG9hc3RFZmZlY3Quc2hvdywKICAgICAgICB0b2FzdE1lc3NhZ2UgPSBfdXNlVG9hc3RFZmZlY3QudG9hc3RNZXNzYWdlLAogICAgICAgIHNob3dUb2FzdCA9IF91c2VUb2FzdEVmZmVjdC5zaG93VG9hc3Q7CgogICAgdmFyIF91c2VMb2dpbkVmZmVjdCA9IHVzZUxvZ2luRWZmZWN0KHNob3dUb2FzdCksCiAgICAgICAgdXNlcm5hbWUgPSBfdXNlTG9naW5FZmZlY3QudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfdXNlTG9naW5FZmZlY3QucGFzc3dvcmQsCiAgICAgICAgaGFuZGxlTG9naW4gPSBfdXNlTG9naW5FZmZlY3QuaGFuZGxlTG9naW47CgogICAgdmFyIF91c2VSZWdpc3RlckVmZmVjdCA9IHVzZVJlZ2lzdGVyRWZmZWN0KCksCiAgICAgICAgaGFuZGxlUmVnaXN0ZXJDbGljayA9IF91c2VSZWdpc3RlckVmZmVjdC5oYW5kbGVSZWdpc3RlckNsaWNrOwoKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBoYW5kbGVMb2dpbjogaGFuZGxlTG9naW4sCiAgICAgIHNob3c6IHNob3csCiAgICAgIHRvYXN0TWVzc2FnZTogdG9hc3RNZXNzYWdlLAogICAgICBoYW5kbGVSZWdpc3RlckNsaWNrOiBoYW5kbGVSZWdpc3RlckNsaWNrCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["F:\\桌面\\jingdong\\src\\views\\Login\\Login.vue"],"names":[],"mappings":";;AAiBA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,IAAT,QAAqB,qBAArB;AACA,OAAO,KAAP,IAAiB,cAAjB,QAAsC,4BAAtC;;AAEA,IAAM,cAAa,GAAI,SAAjB,cAAiB,CAAG,SAAH,EAAkB;AACrC,MAAM,MAAK,GAAI,SAAS,EAAxB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AAClB,IAAA,QAAQ,EAAC,EADS;AAElB,IAAA,QAAQ,EAAC;AAFS,GAAD,CAArB;AAIA,EAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,QAAjB;AACA,EAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,MAAM,WAAU;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEK,IAAI,CAAC,iBAAD,EAAmB;AACxC,gBAAA,QAAQ,EAAE,IAAI,CAAC,QADyB;AAExC,gBAAA,QAAQ,EAAE,IAAI,CAAC;AAFyB,eAAnB,CAFT;;AAAA;AAEV,cAAA,MAFU;;AAMhB,kBAAG,MAAM,CAAC,IAAP,CAAY,KAAZ,KAAqB,CAAxB,EAA0B;AACtB,gBAAA,SAAS,CAAC,MAAD,CAAT;AACA,gBAAA,YAAY,CAAC,OAAb,GAAuB,IAAvB;AACA,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAG,EAAI;AAAT,iBAAZ;AACH,eAJD,MAIK;AACD,gBAAA,SAAS,CAAC,MAAD,CAAT;AACJ;;AAZgB;AAAA;;AAAA;AAAA;AAAA;AAcZ,cAAA,SAAS,CAAC,MAAD,CAAT;;AAdY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AARqC,gBAyBL,MAAM,CAAC,IAAD,CAzBD;AAAA,MAyB7B,QAzB6B,WAyB7B,QAzB6B;AAAA,MAyBlB,QAzBkB,WAyBlB,QAzBkB;;AA0BrC,SAAO;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAa,IAAA,QAAQ,EAAR,QAAb;AAAuB,IAAA,WAAU,EAAV;AAAvB,GAAP;AACJ,CA3BA;;AA4BA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,GAAM;AAC5B,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,mBAAkB,GAAI,SAAtB,mBAAsB,GAAM;AAC9B,IAAA,MAAM,CAAC,IAAP,CAAY;AAAE,MAAA,IAAG,EAAI;AAAT,KAAZ;AACJ,GAFA;;AAGA,SAAO;AAAG,IAAA,mBAAkB,EAAlB;AAAH,GAAP;AACJ,CANA;;AAUA,eAAe;AACX,EAAA,IAAG,EAAG,OADK;AAEX,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GAFD;AAGX,EAAA,KAHW,mBAGH;AAAA,0BACwC,cAAc,EADtD;AAAA,QACK,IADL,mBACK,IADL;AAAA,QACW,YADX,mBACW,YADX;AAAA,QACyB,SADzB,mBACyB,SADzB;;AAAA,0BAEyC,cAAc,CAAC,SAAD,CAFvD;AAAA,QAEI,QAFJ,mBAEI,QAFJ;AAAA,QAEe,QAFf,mBAEe,QAFf;AAAA,QAEyB,WAFzB,mBAEyB,WAFzB;;AAAA,6BAG6B,iBAAiB,EAH9C;AAAA,QAGK,mBAHL,sBAGK,mBAHL;;AAIJ,WAAO;AACH,MAAA,QAAQ,EAAR,QADG;AACQ,MAAA,QAAQ,EAAR,QADR;AACkB,MAAA,WAAW,EAAX,WADlB;AAEH,MAAA,IAAI,EAAJ,IAFG;AAEG,MAAA,YAAY,EAAZ,YAFH;AAGH,MAAA,mBAAkB,EAAlB;AAHG,KAAP;AAKH;AAZU,CAAf","sourcesContent":["<template>\r\n<!-- 登陆页 -->\r\n    <div class=\"wrapper\">\r\n        <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\" class=\"wrapper__img\">\r\n        <div class=\"wrapper__input\">\r\n            <input type=\"text\" class=\"wrapper__input__content\" placeholder=\"请输入用户名\" v-model=\"username\">\r\n        </div>\r\n        <div class=\"wrapper__input\">\r\n            <input type=\"password\" class=\"wrapper__input__content\" placeholder=\"请输入密码\" v-model=\"password\">\r\n        </div>\r\n        <div class=\"wrapper__login-button\" @click=\"handleLogin\">登陆</div>\r\n        <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">立即注册</div>\r\n        <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { post } from '../../utils/request';\r\nimport Toast , { useToastEffect }from '../../components/Toast.vue';\r\n\r\nconst useLoginEffect = (  showToast ) => {\r\n    const router = useRouter();\r\n    const data = reactive({\r\n        username:'',\r\n        password:'',\r\n    })\r\n    console.log(data.username)\r\n    console.log(159)\r\n    const handleLogin = async () => {\r\n    try{\r\n        const result = await post('/api/user/login',{\r\n            username: data.username,\r\n            password: data.password\r\n        })\r\n        if(result.data.errno=== 0){\r\n            showToast('登陆成功');\r\n            localStorage.isLogin = true;\r\n            router.push({ name : 'Home'})\r\n        }else{\r\n            showToast('登陆失败');\r\n        }\r\n    } catch (e){\r\n            showToast('请求失败');\r\n        }\r\n    } \r\n    const { username,  password } = toRefs(data);\r\n    return { username,  password, handleLogin }\r\n}\r\nconst useRegisterEffect = () => {\r\n    const router = useRouter();\r\n    const handleRegisterClick = () => {\r\n        router.push({ name : 'Register'})\r\n    }\r\n    return {  handleRegisterClick }\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    name :'Login',\r\n    components: { Toast },\r\n    setup() {\r\n        const {  show, toastMessage, showToast  } = useToastEffect();\r\n        const { username,  password, handleLogin } = useLoginEffect(showToast);  \r\n        const {  handleRegisterClick } = useRegisterEffect();  \r\n        return { \r\n            username,  password, handleLogin,\r\n            show, toastMessage,\r\n            handleRegisterClick\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    &__img{\r\n        display: block;\r\n        width: .66rem;\r\n        height: .66rem;\r\n        margin: 0 auto .4rem auto;\r\n    }\r\n    &__input{\r\n        height: .48rem;\r\n        padding: 0 .16rem;\r\n        margin: 0 .4rem .16rem .4rem;\r\n        background: #F9F9F9;\r\n        border: .01rem solid rgba(0,0,0,0.10);\r\n        border-radius: .06rem;\r\n        &__content{\r\n            width: 100%;\r\n            line-height: .48rem;\r\n            font-size: .16rem;\r\n            color: rgba(0,0,0,0.50);\r\n            outline: none;\r\n            background: none;\r\n            border: none;\r\n        }\r\n    }\r\n    &__login-button{\r\n        height: .48rem;\r\n        background: #0091FF;\r\n        margin: .32rem .4rem .16rem .4rem;\r\n        box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n        border-radius: .04rem;\r\n        font-size: .16rem;\r\n        line-height: .48rem;\r\n        color: #FFFFFF;\r\n        text-align: center;\r\n    }\r\n    &__login-link{\r\n        font-size: .14rem;\r\n        color: rgba(0,0,0,0.50);\r\n        text-align: center;\r\n    }\r\n}\r\n</style>"],"sourceRoot":""}]}