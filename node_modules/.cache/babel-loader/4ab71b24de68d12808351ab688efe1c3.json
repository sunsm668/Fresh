{"remainingRequest":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js!F:\\桌面\\jingdong\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\桌面\\jingdong\\src\\store\\index.js","dependencies":[{"path":"F:\\桌面\\jingdong\\src\\store\\index.js","mtime":1621594577635},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\桌面\\jingdong\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8g5o6l5Y+j6L+U5Zue5pWw5o2u57uT5p6ECi8vIHsgICAgCi8vICAgICBzaG9wSWQ6eyAgICAgICAgICAgICAgICAgICAvL+WVhumTumlkCi8vICAgICAgIHNob3BuYW1lOiAn5rKD5bCU546bJywgICAgICAvL+WVhumTuuWQjeensAovLyAgICAgICBwcm9kdWN0TGlzdDp7ICAgICAgICAgICAvL+WVhuWTgeWIl+ihqAovLyAgICAgICAgIHByb2R1Y3RJZDp7ICAgICAgICAgICAvL+WVhuWTgWlkCi8vICAgICAgICAgICBfaWQ6ICIxIiwKLy8gICAgICAgICAgIGltZ1VybDogImh0dHA6Ly93d3cuZGVsbC1sZWUuY29tL2ltZ3MvdnVlMy90b21hdG8ucG5nIiwKLy8gICAgICAgICAgIG5hbWU6ICLnlarojIQgMjUwZyAvIOS7vSIsCi8vICAgICAgICAgICBvbGRQcmljZTogMzkuNiwgICAgICAvL+WVhuWTgeWOn+S7twovLyAgICAgICAgICAgcHJpY2U6IDMzLjYsICAgICAgICAgLy/llYblk4Hku7fmoLwKLy8gICAgICAgICAgIHNhbGVzOiAxMCwgICAgICAgICAgIC8v5ZWG5ZOB5pyI5ZSu5pWw6YePCi8vICAgICAgICAgICBjb3VudDogMiwgICAgICAgICAgICAvL+WVhuWTgeaVsOmHjwovLyAgICAgICAgICAgY2hlY2vvvJp0cnVlICAgICAgICAgIC8v6LSt54mp6L2m54q25oCBCi8vICAgICAgICAgfQovLyAgICAgICB9Ci8vICAgICB9Ci8vIH0KaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7IC8vIOW+gCBsb2NhbFN0b3JhZ2Ug5Lit5a2Y5YKo5pWw5o2uCgp2YXIgc2V0TG9jYWxDYXJ0TGlzdCA9IGZ1bmN0aW9uIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpIHsKICB2YXIgY2FydExpc3QgPSBzdGF0ZS5jYXJ0TGlzdDsKICB2YXIgY2FydExpc3RTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShjYXJ0TGlzdCk7CiAgbG9jYWxTdG9yYWdlLmNhcnRMaXN0ID0gY2FydExpc3RTdHJpbmc7Cn07Cgp2YXIgZ2V0TG9jYWxDYXJ0TGlzdCA9IGZ1bmN0aW9uIGdldExvY2FsQ2FydExpc3QoKSB7CiAgLy8geyBzaG9wSWQ6IHtzaG9wTmFtZTonJywgcHJvZHVjdExpc3Q6eyBwcm9kdWN0SWQ6IHt9IH19fQogIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCB8fCAie30iKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFZ1ZXguY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBjYXJ0TGlzdDogZ2V0TG9jYWxDYXJ0TGlzdCgpCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8vIOWVhuWTgeaVsOmHj+WKoOWHj+WKn+iDvQogICAgY2hhbmdlQ2FydEl0ZW1JbmZvOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0SXRlbUluZm8oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgcHJvZHVjdElkID0gcGF5bG9hZC5wcm9kdWN0SWQsCiAgICAgICAgICBwcm9kdWN0SW5mbyA9IHBheWxvYWQucHJvZHVjdEluZm87CiAgICAgIHZhciBzaG9wSW5mbyA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF07CgogICAgICBpZiAoIXNob3BJbmZvKSB7CiAgICAgICAgc2hvcEluZm8gPSB7CiAgICAgICAgICBzaG9wbmFtZTogJycsCiAgICAgICAgICBwcm9kdWN0TGlzdDoge30KICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgcHJvZHVjdCA9IHNob3BJbmZvLnByb2R1Y3RMaXN0W3Byb2R1Y3RJZF07CgogICAgICBpZiAoIXByb2R1Y3QpIHsKICAgICAgICBwcm9kdWN0ID0gcHJvZHVjdEluZm87CiAgICAgICAgcHJvZHVjdC5jb3VudCA9IDA7CiAgICAgIH0KCiAgICAgIHByb2R1Y3QuY291bnQgKz0gcGF5bG9hZC5udW07CgogICAgICBpZiAocGF5bG9hZC5udW0gPiAwKSB7CiAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChwcm9kdWN0LmNvdW50IDwgMCkgewogICAgICAgIHByb2R1Y3QuY291bnQgPSAwOwogICAgICB9CgogICAgICBzaG9wSW5mby5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdID0gcHJvZHVjdDsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXSA9IHNob3BJbmZvOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICAvLyDmm7TmlrDllYbpk7rlkI3np7AKICAgIHVwZGF0ZVNob3BOYW1lOiBmdW5jdGlvbiB1cGRhdGVTaG9wTmFtZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBzaG9wbmFtZSA9IHBheWxvYWQuc2hvcG5hbWU7CiAgICAgIHZhciBzaG9wSW5mbyA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gfHwgewogICAgICAgIHNob3BuYW1lOiAnJywKICAgICAgICBwcm9kdWN0TGlzdDoge30KICAgICAgfTsKICAgICAgc2hvcEluZm8uc2hvcG5hbWUgPSBzaG9wbmFtZTsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXSA9IHNob3BJbmZvOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICAvLyDllYblk4HlnKjotK3nianovabkuK3nirbmgIEKICAgIGNoYW5nZUNhcnRJdGVtQ2hlY2tlZDogZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW1DaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHByb2R1Y3RJZCA9IHBheWxvYWQucHJvZHVjdElkOwogICAgICB2YXIgcHJvZHVjdCA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3RbcHJvZHVjdElkXTsKICAgICAgcHJvZHVjdC5jaGVjayA9ICFwcm9kdWN0LmNoZWNrOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICAvLyDmuIXnqbrotK3nianovablip/og70KICAgIGNsZWFuQ2FydFByb2R1Y3RzOiBmdW5jdGlvbiBjbGVhbkNhcnRQcm9kdWN0cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQ7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3QgPSB7fTsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgLy8g6LSt54mp6L2m5YWo6YCJ5Yqf6IO9CiAgICBzZXRDYXJ0SXRlbXNDaGVja2VkOiBmdW5jdGlvbiBzZXRDYXJ0SXRlbXNDaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKICAgICAgdmFyIHByb2R1Y3RzID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdDsKCiAgICAgIGlmIChwcm9kdWN0cykgewogICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9kdWN0cykgewogICAgICAgICAgdmFyIHByb2R1Y3QgPSBwcm9kdWN0c1trZXldOwogICAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICAvLyDmj5DkuqTorqLljZXmuIXpmaTotK3nianovaYKICAgIGNsZWFyQ2FydERhdGE6IGZ1bmN0aW9uIGNsZWFyQ2FydERhdGEoc3RhdGUsIHNob3BJZCkgewogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0ID0ge307CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["F:/桌面/jingdong/src/store/index.js"],"names":["Vuex","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocalCartList","parse","createStore","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","shopname","productList","product","count","num","check","updateShopName","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","products","key","clearCartData"],"mappings":"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","sourcesContent":["   // 接口返回数据结构\n    // {    \n    //     shopId:{                   //商铺id\n    //       shopname: '沃尔玛',      //商铺名称\n    //       productList:{           //商品列表\n    //         productId:{           //商品id\n    //           _id: \"1\",\n    //           imgUrl: \"http://www.dell-lee.com/imgs/vue3/tomato.png\",\n    //           name: \"番茄 250g / 份\",\n    //           oldPrice: 39.6,      //商品原价\n    //           price: 33.6,         //商品价格\n    //           sales: 10,           //商品月售数量\n    //           count: 2,            //商品数量\n    //           check：true          //购物车状态\n    //         }\n    //       }\n    //     }\n    // }\nimport Vuex from 'vuex'\n// 往 localStorage 中存储数据\n\nconst setLocalCartList = ( state ) => {\n  const { cartList } = state;\n  const cartListString = JSON.stringify(cartList);\n  localStorage.cartList = cartListString;\n}\n\n\nconst getLocalCartList = () => {\n  // { shopId: {shopName:'', productList:{ productId: {} }}}\n  return JSON.parse(localStorage.cartList || \"{}\");\n};\nexport default Vuex.createStore({\n  state: {\n    cartList: getLocalCartList()\n  },\n  mutations: {\n    // 商品数量加减功能\n    changeCartItemInfo(state, payload){\n        const { shopId, productId, productInfo } = payload;\n        let shopInfo = state.cartList[shopId];\n        if(!shopInfo) {  shopInfo = {\n          shopname:'', productList:{}\n        } }\n        let product = shopInfo.productList[productId];\n        if(!product) {\n          product = productInfo;\n          product.count = 0;\n          }\n        product.count += payload.num;\n        if(payload.num > 0) { product.check = true }\n        if(product.count < 0) { product.count = 0 }\n        shopInfo.productList[productId] = product;\n        state.cartList[shopId] = shopInfo;\n        setLocalCartList(state);\n    },\n    // 更新商铺名称\n    updateShopName(state, payload){\n        const { shopId, shopname } = payload;\n        const shopInfo = state.cartList[shopId] || {\n          shopname:'', productList:{}\n        };\n        shopInfo.shopname = shopname;\n        state.cartList[shopId] = shopInfo;\n\n        setLocalCartList(state);\n    },\n    // 商品在购物车中状态\n    changeCartItemChecked(state, payload){\n        const { shopId, productId } = payload;\n        const product = state.cartList[shopId].productList[productId];\n        product.check = !product.check;\n        setLocalCartList(state);\n    },\n    // 清空购物车功能\n    cleanCartProducts(state, payload){\n        const { shopId } = payload;\n        state.cartList[shopId].productList = {};\n        setLocalCartList(state);\n    },\n    // 购物车全选功能\n    setCartItemsChecked(state, payload){\n        const { shopId } = payload;\n        const products = state.cartList[shopId].productList;\n        if(products){\n          for(let key in products){\n            const product = products[key];\n            product.check = true;\n          }\n        } \n        setLocalCartList(state);\n    },\n    // 提交订单清除购物车\n    clearCartData(state,shopId){\n      state.cartList[shopId].productList = {}\n    }\n  }\n})\n"]}]}