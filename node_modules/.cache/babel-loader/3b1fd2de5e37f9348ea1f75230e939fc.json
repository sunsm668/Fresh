{"remainingRequest":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js!F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\桌面\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\桌面\\jingdong\\src\\views\\ShopCart\\ShopCart.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\桌面\\jingdong\\src\\views\\ShopCart\\ShopCart.vue","mtime":1623054383643},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\桌面\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\桌面\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1x1Njg0Q1x1OTc2Mi9qaW5nZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCBEb2NrZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Eb2NrZXInOwppbXBvcnQgeyB1c2VDb21tb25DYXJ0RWZmZWN0IH0gZnJvbSAnLi4vLi4vZWZmZWN0cy9jYXJ0RWZmZWN0cyc7IC8v6I635Y+W5ZWG5bqX5YiX6KGoCgp2YXIgZ2V0TmVhcmJ5TGlzdEVmZmVjdCA9IGZ1bmN0aW9uIGdldE5lYXJieUxpc3RFZmZlY3QoKSB7CiAgdmFyIG5lYXJieUxpc3QgPSByZWYoW10pOwoKICB2YXIgZ2V0TmVhcmJ5TGlzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF9yZXN1bHQkZGF0YTsKCiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0KCcvYXBpL3Nob3AvaG90LWxpc3QnKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJvcikgPT09IDAgJiYgcmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIChfcmVzdWx0JGRhdGEgPSByZXN1bHQuZGF0YSkgIT09IG51bGwgJiYgX3Jlc3VsdCRkYXRhICE9PSB2b2lkIDAgJiYgX3Jlc3VsdCRkYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgbmVhcmJ5TGlzdC52YWx1ZSA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGdldE5lYXJieUxpc3QoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgcmV0dXJuIHsKICAgIG5lYXJieUxpc3Q6IG5lYXJieUxpc3QsCiAgICBnZXROZWFyYnlMaXN0OiBnZXROZWFyYnlMaXN0CiAgfTsKfTsgLy/moLnmja7mr4/kuKrllYblupfnmoRpZO+8jOiOt+WPluavj+S4quWVhuW6l+eahOWVhuWTgeS/oeaBrwovLyBjb25zdCBnZXRQcm9kdWN0TGlzdEVmZmVjdCA9IChpZCkgPT4gewovLyAgICAgY29uc3QgcHJvZHVjdExpc3QgPSByZWYoW10pOwovLyAgICAgY29uc3QgZ2V0UHJvZHVjdExpc3QgPSBhc3luYyAoKSA9PiB7Ci8vICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0KGAvYXBpL3Nob3AvJHtpZH0vcHJvZHVjdHNgKQovLyAgICAgICAgIGlmKHJlc3VsdD8uZXJyb3IgPT09IDAgJiYgcmVzdWx0Py5kYXRhPy5sZW5ndGgpewovLyAgICAgICAgICAgICBwcm9kdWN0TGlzdC52YWx1ZSA9IHJlc3VsdC5kYXRhOwovLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0TGlzdCwncHJvZHVjdExpc3QnKQovLyAgICAgICAgIH0KLy8gICB9IAovLyAgIHJldHVybiB7IHByb2R1Y3RMaXN0LCBnZXRQcm9kdWN0TGlzdCB9Ci8vIH0KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Nob3BDYXJ0JywKICBjb21wb25lbnRzOiB7CiAgICBEb2NrZXI6IERvY2tlcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF9nZXROZWFyYnlMaXN0RWZmZWN0ID0gZ2V0TmVhcmJ5TGlzdEVmZmVjdCgpLAogICAgICAgIG5lYXJieUxpc3QgPSBfZ2V0TmVhcmJ5TGlzdEVmZmVjdC5uZWFyYnlMaXN0LAogICAgICAgIGdldE5lYXJieUxpc3QgPSBfZ2V0TmVhcmJ5TGlzdEVmZmVjdC5nZXROZWFyYnlMaXN0OwoKICAgIGNvbnNvbGUubG9nKG5lYXJieUxpc3QsICduZWFyYnlMaXN0MScpOwogICAgY29uc29sZS5sb2cobmVhcmJ5TGlzdC5faWQsICduZWFyYnlMaXN0MicpOwogICAgdmFyIGlkID0gJzYwYWEyZTYwZWI4YWMxMzZhY2M5OTc3Nyc7IC8vIGNvbnN0IHsgcHJvZHVjdExpc3QsIGdldFByb2R1Y3RMaXN0IH0gPSBnZXRQcm9kdWN0TGlzdEVmZmVjdChpZCkKCiAgICB2YXIgX3VzZUNvbW1vbkNhcnRFZmZlY3QgPSB1c2VDb21tb25DYXJ0RWZmZWN0KGlkKSwKICAgICAgICBjYXJ0TGlzdCA9IF91c2VDb21tb25DYXJ0RWZmZWN0LmNhcnRMaXN0OyAvLyBjb25zb2xlLmxvZyhjYWxjdWxhdGlvbnMsIGNoYW5nZUNhcnRJdGVtSW5mbywgcHJvZHVjdExpc3QgKQogICAgLy8gY29uc29sZS5sb2coc2hvcElkKQoKCiAgICBnZXROZWFyYnlMaXN0KCk7CiAgICBjb25zb2xlLmxvZyhjYXJ0TGlzdC5zaG9wSWQsICdjYXJ0TGlzdCcpOyAvLyBnZXRQcm9kdWN0TGlzdCgpOwoKICAgIHJldHVybiB7CiAgICAgIG5lYXJieUxpc3Q6IG5lYXJieUxpc3QsCiAgICAgIGNhcnRMaXN0OiBjYXJ0TGlzdAogICAgfTsKICB9Cn07"},{"version":3,"sources":["F:\\桌面\\jingdong\\src\\views\\ShopCart\\ShopCart.vue"],"names":[],"mappings":";;AA8BA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,GAAT,QAAoB,qBAApB;AACA,OAAO,MAAP,MAAmB,yBAAnB;AACA,SAAS,mBAAT,QAAoC,2BAApC,C,CAGA;;AACA,IAAM,mBAAkB,GAAI,SAAtB,mBAAsB,GAAM;AAChC,MAAM,UAAS,GAAI,GAAG,CAAC,EAAD,CAAtB;;AACA,MAAM,aAAY;AAAA,uEAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACC,GAAG,CAAC,oBAAD,CADJ;;AAAA;AACd,cAAA,MADc;;AAEpB,kBAAG,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAlB,IAAuB,MAAvB,aAAuB,MAAvB,+BAAuB,MAAM,CAAE,IAA/B,yCAAuB,aAAc,MAAxC,EAA+C;AAC7C,gBAAA,UAAU,CAAC,KAAX,GAAmB,MAAM,CAAC,IAA1B;AACF;;AAJoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAZ,aAAY;AAAA;AAAA;AAAA,KAAlB;;AAMA,SAAO;AAAE,IAAA,UAAU,EAAV,UAAF;AAAc,IAAA,aAAY,EAAZ;AAAd,GAAP;AACF,CATA,C,CAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAe;AACX,EAAA,IAAI,EAAC,UADM;AAEX,EAAA,UAAU,EAAE;AAAE,IAAA,MAAK,EAAL;AAAF,GAFD;AAIX,EAAA,KAJW,mBAIH;AAAA,+BACkC,mBAAmB,EADrD;AAAA,QACI,UADJ,wBACI,UADJ;AAAA,QACgB,aADhB,wBACgB,aADhB;;AAEJ,IAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAuB,aAAvB;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,UAAU,CAAC,GAAvB,EAA2B,aAA3B;AAEA,QAAI,EAAC,GAAG,0BAAR,CALI,CAMJ;;AANI,+BAOiB,mBAAmB,CAAC,EAAD,CAPpC;AAAA,QAOI,QAPJ,wBAOI,QAPJ,EAQJ;AACA;;;AACA,IAAA,aAAa;AACb,IAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,MAArB,EAA4B,UAA5B,EAXI,CAYJ;;AACA,WAAO;AAAE,MAAA,UAAU,EAAV,UAAF;AAAc,MAAA,QAAO,EAAP;AAAd,KAAP;AACJ;AAlBW,CAAf","sourcesContent":["<template>\r\n<!-- 购物车页 -->\r\n    <div class=\"title\">我的全部购物车（2）</div>\r\n    <div class=\"wrapper\">\r\n        <div class=\"shoplist\">\r\n            <div class=\"shop\"\r\n            v-for=\"item in nearbyList\"\r\n            :key=\"item._id\">\r\n                <h2 class=\"shop__name\">{{item.name}}</h2>\r\n                <!-- <div class=\"product\"\r\n                v-for=\"innerItem in productList\"\r\n                :key=\"innerItem._id\">\r\n                    <div class=\"product__item\">\r\n                        <img :src=\"innerItem.imgUrl\" alt=\"\" class=\"product__item__img\">\r\n                        <div class=\"product__item__datail\">\r\n                            <h4 class=\"product__item__title\">{{innerItem.name}}</h4>\r\n                            <div class=\"product__item__price\">\r\n                                <div class=\"product__item__yen\">&yen;{{innerItem.price}} x {{}}</div>\r\n                                <div class=\"product__item__origin\">&yen;{{innerItem.oldPrice}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Docker :currentIndex=\"1\"/>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { get } from '../../utils/request';\r\nimport Docker from '../../components/Docker';\r\nimport { useCommonCartEffect } from '../../effects/cartEffects';\r\n\r\n\r\n//获取商店列表\r\nconst getNearbyListEffect = () => {\r\n  const nearbyList = ref([]);\r\n  const getNearbyList = async () => {\r\n    const result = await get('/api/shop/hot-list')\r\n    if(result?.error === 0 && result?.data?.length){\r\n      nearbyList.value = result.data;\r\n    }\r\n  } \r\n  return { nearbyList, getNearbyList }\r\n}\r\n\r\n//根据每个商店的id，获取每个商店的商品信息\r\n// const getProductListEffect = (id) => {\r\n//     const productList = ref([]);\r\n//     const getProductList = async () => {\r\n//         const result = await get(`/api/shop/${id}/products`)\r\n//         if(result?.error === 0 && result?.data?.length){\r\n//             productList.value = result.data;\r\n//             console.log(productList,'productList')\r\n//         }\r\n//   } \r\n//   return { productList, getProductList }\r\n// }\r\nexport default {\r\n    name:'ShopCart',\r\n    components: { Docker },\r\n    \r\n    setup() {\r\n        const { nearbyList, getNearbyList } = getNearbyListEffect()\r\n        console.log(nearbyList,'nearbyList1')\r\n        console.log(nearbyList._id,'nearbyList2')\r\n    \r\n        let id ='60aa2e60eb8ac136acc99777';\r\n        // const { productList, getProductList } = getProductListEffect(id)\r\n        const { cartList } = useCommonCartEffect(id);\r\n        // console.log(calculations, changeCartItemInfo, productList )\r\n        // console.log(shopId)\r\n        getNearbyList();\r\n        console.log(cartList.shopId,'cartList')\r\n        // getProductList();\r\n        return { nearbyList, cartList };\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.title{\r\n    font-size: .16rem;\r\n    color: $content-fontcolor;\r\n    height: .55rem;\r\n    line-height: .55rem;\r\n    text-align: center;\r\n    background-color: $bgColor;\r\n}\r\n.wrapper {\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  left: 0;\r\n  top: .55rem;\r\n  bottom: .5rem;\r\n  right: 0;\r\n  background-color: rgb(248, 248, 248);\r\n}\r\n.shop{\r\n    margin: .16rem;\r\n    padding: .16rem;\r\n    background: $bgColor;\r\n    border-radius: 0.06rem;\r\n    &__name{\r\n        font-size: .16rem;\r\n        color: #333333;\r\n    }\r\n}\r\n.product{\r\n    flex: 1;\r\n    overflow-y: scroll;\r\n\r\n    &__item{\r\n        position: relative;\r\n        display: flex;\r\n        padding: .12rem 0;\r\n        &__img{\r\n            height: .46rem;\r\n            width: .46rem;\r\n            margin-right: .16rem;\r\n        }\r\n        &__title{\r\n            margin: 0;\r\n            line-height: .2rem;\r\n            font-size: .14rem;\r\n            color: $content-fontcolor;\r\n            @include ellipsis;\r\n        }\r\n        &__datail{\r\n            flex: 1;\r\n            overflow: hidden;\r\n        }\r\n        &__price{\r\n            display: flex;\r\n            line-height: .2rem;\r\n            margin-top: .06rem;\r\n            font-size: .14rem;\r\n            color: #E93B3B;\r\n        }\r\n        &__yen{\r\n            flex: 1;\r\n            font-size: .12rem;\r\n        }\r\n        &__origin{\r\n            font-size: .14rem;\r\n            color: #000000;\r\n            line-height: .2rem;\r\n        }\r\n    }\r\n}\r\n</style>"],"sourceRoot":""}]}